<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="dark light" />
  <title>photonPDF — PDF → Imagem</title>
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <header class="header">
    <div class="wrap">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>photonPDF</h1>
          <div class="sub">PDF → PNG/JPG/Clipboard • DPI • A4 • Lote</div>
        </div>
        <div class="grow"></div>
        <button id="themeToggle" class="btn secondary" title="Alternar tema">Tema</button>
      </div>

      <div class="toolbar">
        <label class="field">
          <input id="file" type="file" accept="application/pdf" />
        </label>

        <div class="pill">
          <span>Página</span>
          <input id="page" type="number" value="1" min="1" step="1" aria-label="Página">
          <button id="prev" class="btn secondary" title="Anterior (←)">←</button>
          <button id="next" class="btn secondary" title="Próxima (→)">→</button>
          <span id="pageCount" class="muted"></span>
        </div>

        <div class="pill">
          <span>DPI</span>
          <input id="dpi" type="number" value="120" min="36" step="12" aria-label="DPI">
        </div>

        <div class="preset">
          <button class="chip" data-dpi="96">96</button>
          <button class="chip active" data-dpi="120">120</button>
          <button class="chip" data-dpi="150">150</button>
          <button class="chip" data-dpi="200">200</button>
        </div>

        <label class="pill">
          <input type="checkbox" id="forceA4">
          <span>Forçar A4</span>
        </label>

        <div class="grow"></div>

        <button id="renderBtn" class="btn">Renderizar</button>
        <button id="copyBtn" class="btn secondary" disabled>Copiar PNG</button>

        <div class="split">
          <button id="exportPng" class="btn secondary" disabled>Exportar PNG</button>
          <button id="exportJpg" class="btn secondary" disabled>Exportar JPG</button>
        </div>

        <div class="pill">
          <span>Lote</span>
          <input id="rangeFrom" type="number" value="1" min="1" step="1" aria-label="Início" style="width:70px">
          <span>—</span>
          <input id="rangeTo" type="number" value="1" min="1" step="1" aria-label="Fim" style="width:70px">
          <button id="exportZip" class="btn secondary" disabled>ZIP</button>
        </div>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="grid">
      <section class="card">
        <div id="drop" class="drop">Arraste e solte um PDF aqui, ou use o seletor.</div>
        <div id="status" class="status muted"></div>
        <div class="hint">A4 @ 120 dpi ≈ 992 × 1403 px. Escala: <em>pixels = pontos × dpi / 72</em>.</div>
      </section>
      <section class="card">
        <img id="preview" alt="Prévia da página" />
        <div id="meta" class="muted"></div>
      </section>
    </div>
  </main>

  <!-- libs (sem integrity no ambiente local) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
    // garante worker da MESMA versão
    if (window.pdfjsLib) {
      pdfjsLib.GlobalWorkerOptions.workerSrc = "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";
    } else {
      console.error("PDF.js não carregou. Verifique conectividade/URL.");
    }
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <!-- módulos do app -->
  <script type="module" src="assets/js/main.js"></script>
</body>
</html>

